---
title: L2转移工具常见问题解答
---

## 什么是L2转移工具？

The Graph将协议部署到Arbitrum One上，大大降低了参与网络的成本，使贡献者的参与费用降低了26倍。L2转移工具由核心开发人员创建，旨在使迁移到L2变得简单。对于每个协议参与者，将共享一组转移助手，以在迁移到L2时提供无缝的体验，避免解冻期或手动提取和桥接GRT。这些工具将要求您根据您在The Graph中的角色和要转移的内容遵循一套特定的步骤。

## 我可以在以太坊主网上使用相同的钱包吗？

如果您使用的是 [EOA](https://ethereum.org/en/developers/docs/accounts/#types-of-account)钱包，则可以使用相同的地址。如果您在以太坊主网上的钱包是智能合约钱包（例如多签钱包），那么您必须指定一个Arbitrum钱包地址，用于接收您的转账。请仔细检查地址，因为发送到错误地址的任何转账都可能导致永久丢失。如果您希望在L2上使用多签钱包，请确保在Arbitrum One上部署一个多签合约。

## 如果我没有在 7 天内完成转账，会发生什么情况？

L2 传输工具使用 Arbitrum 的原生机制将信息从 L1 发送至 L2。这种机制被称为 "retryable ticket，所有本地令牌网桥都使用这种机制，包括Arbitrum GRT网桥。您可以在[Arbitrum文档](https://docs.arbitrum.io/arbos/l1-to-l2-messaging)中阅读更多关于retryable ticket的信息。

当您将您的资产（子图、股权、委托）转移到 L2 时，会通过 Arbitrum GRT 桥接器发送一条信息，该桥接器会在 L2 中创建一个可retryable ticket。转移工具在交易中包含一些 ETH ，用于：1）支付创建票据的费用；2）支付在 L2 中执行票据的气体费用。但是，在票据准备好在 L2 中执行之前，gas价格可能会发生变化，因此自动执行尝试可能会失败。当这种情况发生时，Arbitrum 桥接器会将retryable ticket保留最多 7 天，任何人都可以重试 "赎回 "票据（这需要一个与 Arbitrum 桥接了一些 ETH 的钱包）。

这就是我们在所有传输工具中所说的 "确认 "步骤--在大多数情况下，它会自动运行，因为自动执行通常都会成功，但重要的是，您要回过头来检查，以确保它成功了。如果没有成功，并且在 7 天内没有成功的重试，Arbitrum 桥接器将丢弃该票据，您的资产（子图、股权、委托或管理）将丢失且无法恢复。The Graph核心开发人员有一个监控系统来检测这些情况，并尝试在为时已晚之前赎回门票，但确保您的转让及时完成最终还是您的责任。如果您在确认交易时遇到困难，请使用[此表单](https://noteforms.com/forms/notionform-l2-transfer-tooling-issues-0ogqfu?notionforms=1&utm_source=notionforms)联系我们，核心开发人员将为您提供帮助。

## 子图转移

## 如何转移我的子图？

<VideoEmbed youtube="R8_vz4lx2Co" />

要转移您的子图，您需要完成以下步骤：

1.  在以太坊主网上启动转移过程

2.  等待20分钟进行确认

3.  在Arbitrum上确认子图转移\*

4.  在Arbitrum上完成子图发布

5.  更新查询URL（推荐）

\*请注意，您必须在7天内确认转移，否则您的子图可能会丢失。在大多数情况下，此步骤将自动运行，但如果Arbitrum的燃气价格飙升，则可能需要手动确认。如果在此过程中遇到任何问题，我们将提供帮助：请通过support@thegraph.com或[Discord](https://discord.gg/vtvv7FP)与我们联系。

## 我应该从哪里发起转移？

您可以从[Subgraph Studio](https://thegraph.com/studio/), [Explorer](https://thegraph.com/explorer) 或任何子图详细信息页面发起转移。在子图详细信息页面中，点击“Transfer Subgraph”按钮开始转移。

## 我需要等多久才能完成子图转移？

转移时间大约需要20分钟。Arbitrum跨链桥在后台工作，自动完成桥接转移。在某些情况下，燃气费用可能会上涨，您需要再次确认交易。

## 在我将子图转移到L2之后，它还能被发现吗？

您的子图只能在其发布所在的网络上被发现。例如，如果您的子图在Arbitrum One上，那么您只能在Arbitrum One的Explorer中找到它，而无法在以太坊上找到它。请确保您已在页面顶部的网络切换器中选择了Arbitrum One，以确保您位于正确的网络上。转移后，L1子图将显示为已弃用。

## 我的子图是否需要发布才能转移？

要使用子图转移工具，您的子图必须已经发布到以太坊主网上，并且拥有子图的钱包必须拥有一定的策划信号。如果您的子图尚未发布，建议您直接在Arbitrum One上进行发布-相关的燃气费用将大大降低。如果您想转移已发布的子图，但拥有该子图的所有者账户尚未对其进行任何策划信号的策展，您可以从该账户中发送一小笔金额（例如1 GRT）进行信号，确保选择“自动迁移”信号。

## 我将我的子图转移到Arbitrum后，以太坊主网版本的子图会发生什么？

将子图转移到Arbitrum后，以太坊主网版本的子图将被弃用。我们建议您在48小时内更新查询URL。但是，我们已经设置了一个宽限期使您的主网URL继续可用，以便更新任何第三方dapp的支持。

## 转移后，我还需要在Arbitrum上重新发布吗？

在20分钟的转移窗口之后，您需要通过UI中的交易确认来完成转移，但转移工具将指导您完成此过程。在转移窗口和宽限期期间，您的L1端点将继续受到支持。鼓励您在方便的时候更新您的端点。

## 在重新发布过程中，我的端点会出现停机时间吗？

在使用转移工具将子图转移到L2时，不应出现停机时间。在转移窗口和宽限期期间，您的L1端点将继续受到支持。鼓励您在方便的时候更新您的端点。

## L2上的发布和版本控制与以太坊主网上相同吗？

是的。请确保在Subgraph Studio中选择Arbitrum One作为您的发布网络。在Studio中，将提供最新的端点，指向子图的最新更新版本。

## 我的子图的策展是否会随着子图一起转移？

如果您选择了自动迁移信号，您自己的全部策展将与子图一起转移到Arbitrum One。在转移时，所有子图的策展信号将转换为GRT，并且与您的策展信号相对应的GRT将用于在L2子图上生成信号。

其他策展人可以选择是否撤回他们的一部分GRT，或者将其转移到L2上，在同一子图上生成信号。

## 在将子图转移到Arbitrum后，我能否将其转回以太坊主网？

一旦转移，您的以太坊主网版本的子图将被弃用。如果您想转回主网，您需要重新部署并发布到主网。然而，强烈不建议再次转移到以太坊主网，因为索引奖励最终将完全在Arbitrum One上分发。

## 为什么在完成转移时需要桥接ETH？

在Arbitrum One上支付的燃气费用使用桥接ETH（即已桥跨链到Arbitrum One的ETH）支付。但是，与以太坊主网相比，燃气费用要低得多。

## 策展信号

## 如何转移我的策展信号？

要转移您的策展信号，您需要完成以下步骤：

1.  在以太坊主网上启动信号转移

2.  指定L2策展者地址\*

3.  等待20分钟进行确认

\*如果需要-即您正在使用合约地址。

## 我如何知道我策展的子图已经转移到L2？

在查看子图详细信息页面时，将显示一个横幅，通知您该子图已转移。您可以按照提示进行策展转移。您还可以在已转移的任何子图的子图详细信息页面上找到此信息。

## 如果我不希望将我的策展转移到L2怎么办？

当子图被弃用时，您可以选择撤回您的信号。同样，如果子图转移到L2，您可以选择在以太坊主网上撤回信号，或将信号发送到L2。

## 如何知道我的策展是否成功转移？

信号详细信息将在大约20分钟后通过Exploer可访问。

## 我可以一次在多个子图上转移我的策展吗？

目前没有批量转移选项。

## 索引人质押

## 如何将我的质押转移到Arbitrum？

> Disclaimer: If you are currently unstaking any portion of your GRT on your Indexer, you will not be able to use L2 Transfer Tools.

<VideoEmbed youtube="5lTq_V4YbWc" />

To transfer your stake, you will need to complete the following steps:

1.  Initiate stake transfer on Ethereum mainnet

2.  等待20分钟进行确认

3.  Confirm stake transfer on Arbitrum

\*Note that you must confirm the transfer within 7 days otherwise your stake may be lost. In most cases, this step will run automatically, but a manual confirmation may be needed if there is a gas price spike on Arbitrum. If there are any issues during this process, there will be resources to help: contact support at support@thegraph.com or on [Discord](https://discord.gg/vtvv7FP).

## Will all of my stake transfer?

You can choose how much of your stake to transfer. If you choose to transfer all of your stake at once, you will need to close any open allocations first.

If you plan on transferring parts of your stake over multiple transactions, you must always specify the same beneficiary address.

Note: You must meet the minimum stake requirements on L2 the first time you use the transfer tool. Indexers must send the minimum 100k GRT (when calling this function the first time). If leaving a portion of stake on L1, it must also be over the 100k GRT minimum and be sufficient (together with your delegations) to cover your open allocations.

## How much time do I have to confirm my stake transfer to Arbitrum?

\*\*\* You must confirm your transaction to complete the stake transfer on Arbitrum. This step must be completed within 7 days or stake could be lost.

## What if I have open allocations?

If you are not sending all of your stake, the L2 transfer tool will validate that at least the minimum 100k GRT remains in Ethereum mainnet and your remaining stake and delegation is enough to cover any open allocations. You may need to close open allocations if your GRT balance does not cover the minimums + open allocations.

## Using the transfer tools, is it necessary to wait 28 days to unstake on Ethereum mainnet before transferring?

No, you can transfer your stake to L2 immediately, there's no need to unstake and wait before using the transfer tool. The 28-day wait only applies if you'd like to withdraw the stake back to your wallet, on Ethereum mainnet or L2.

## How long will it take to transfer my stake?

It will take approximately 20 minutes for the L2 transfer tool to complete transferring your stake.

## Do I have to index on Arbitrum before I transfer my stake?

You can effectively transfer your stake first before setting up indexing, but you will not be able to claim any rewards on L2 until you allocate to subgraphs on L2, index them, and present POIs.

## Can Delegators move their delegation before I move my indexing stake?

No, in order for Delegators to transfer their delegated GRT to Arbitrum, the Indexer they are delegating to must be active on L2.

## Can I transfer my stake if I'm using a GRT vesting contract / token lock wallet?

Yes! The process is a bit different, because vesting contracts can't forward the ETH needed to pay for the L2 gas, so you need to deposit it beforehand. If your vesting contract is not fully vested, you will also have to first initialize a counterpart vesting contract on L2 and will only be able to transfer the stake to this L2 vesting contract. The UI on Explorer can guide you through this process when you've connected to Explorer using the vesting lock wallet.

## Delegation

## How do I transfer my delegation?

<VideoEmbed youtube="CAAQCKw5eV4" />

To transfer your delegation, you will need to complete the following steps:

1.  Initiate delegation transfer on Ethereum mainnet

2.  等待20分钟进行确认

3.  Confirm delegation transfer on Arbitrum

\*\*\*\*You must confirm the transaction to complete the delegation transfer on Arbitrum. This step must be completed within 7 days or the delegation could be lost. In most cases, this step will run automatically, but a manual confirmation may be needed if there is a gas price spike on Arbitrum. If there are any issues during this process, there will be resources to help: contact support at support@thegraph.com or on [Discord](https://discord.gg/vtvv7FP).

## What happens to my rewards if I initiate a transfer with an open allocation on Ethereum mainnet?

If the indexer to whom you're delegating is still operating on L1, when you transfer to Arbitrum you will forfeit any delegation rewards from open allocations on Ethereum mainnet. This means that you will lose the rewards from, at most, the last 28-day period. If you time the transfer right after the indexer has closed allocations you can make sure this is the least amount possible. If you have a communication channel with your indexer(s), consider discussing with them to find the best time to do your transfer.

## What happens if the Indexer I currently delegate to isn't on Arbitrum One?

The L2 transfer tool will only be enabled if the Indexer you have delegated to has transferred their own stake to Arbitrum.

## Do Delegators have the option to delegate to another Indexer?

If you wish to delegate to another Indexer, you can transfer to the same indexer on Arbitrum, then undelegate and wait for the thawing period. After this, you can select another active Indexer to delegate to.

## What if I can't find the Indexer I'm delegating to on L2?

The L2 transfer tool will automatically detect the Indexer you previously delegated to.

## Will I be able to mix and match or 'spread' my delegation across new or several Indexers instead of the prior Indexer?

The L2 transfer tool will always move your delegation to the same Indexer you delegated to previously. Once you have moved to L2, you can undelegate, wait for the thawing period, and decide if you'd like to split up your delegation.

## Am I subject to the cooldown period or can I withdraw immediately after using the L2 delegation transfer tool?

The transfer tool allows you to immediately move to L2. If you would like to undelegate you will have to wait for the thawing period. However, if an Indexer has transferred all of their stake to L2, you can withdraw on Ethereum mainnet immediately.

## Can my rewards be negatively impacted if I do not transfer my delegation?

It is anticipated that all network participation will move to Arbitrum One in the future.

## How long does it take to complete the transfer of my delegation to L2?

A 20-minute confirmation is required for delegation transfer. Please note that after the 20-minute period, you must come back and complete step 3 of the transfer process within 7 days. If you fail to do this, then your delegation may be lost. Note that in most cases the transfer tool will complete this step for you automatically. In case of a failed auto-attempt, you will need to complete it manually. If any issues arise during this process, don't worry, we'll be here to help: contact us at support@thegraph.com or on [Discord](https://discord.gg/vtvv7FP).

## Can I transfer my delegation if I'm using a GRT vesting contract/token lock wallet?

Yes! The process is a bit different because vesting contracts can't forward the ETH needed to pay for the L2 gas, so you need to deposit it beforehand. If your vesting contract is not fully vested, you will also have to first initialize a counterpart vesting contract on L2 and will only be able to transfer the delegation to this L2 vesting contract. The UI on Explorer can guide you through this process when you've connected to Explorer using the vesting lock wallet.

## Is there any delegation tax?

No. Received tokens on L2 are delegated to the specified Indexer on behalf of the specified Delegator without charging a delegation tax.

## Vesting Contract Transfer

## How do I transfer my vesting contract?

To transfer your vesting, you will need to complete the following steps:

1.  Initiate the vesting transfer on Ethereum mainnet

2.  等待20分钟进行确认

3.  Confirm vesting transfer on Arbitrum

## How do I transfer my vesting contract if I am only partially vested?

<VideoEmbed youtube="URPOb2c6o2Y" />

1.  Deposit some ETH into the transfer tool contract (UI can help estimate a reasonable amount)

2.  Send some locked GRT through the transfer tool contract, to L2 to initialize the L2 vesting lock. This will also set their L2 beneficiary address.

3.  Send their stake/delegation to L2 through the "locked" transfer tool functions in the L1Staking contract.

4.  Withdraw any remaining ETH from the transfer tool contract

## How do I transfer my vesting contract if I am fully vested?

<VideoEmbed youtube="DuZNYPNe1S0" />

For those that are fully vested, the process is similar:

1.  Deposit some ETH into the transfer tool contract (UI can help estimate a reasonable amount)

2.  Set your L2 address with a call to the transfer tool contract

3.  Send your stake/delegation to L2 through the "locked" transfer tool functions in the L1 Staking contract.

4.  Withdraw any remaining ETH from the transfer tool contract

## Can I transfer my vesting contract to Arbitrum?

You can transfer your vesting contract's GRT balance to a vesting contract in L2. This is a prerequisite for transferring stake or delegation from your vesting contract to L2. The vesting contract must hold a nonzero amount of GRT (you can transfer a small amount like 1 GRT to it if needed).

When you transfer GRT from your L1 vesting contract to L2, you can choose the amount to send and you can do this as many times as you like. The L2 vesting contract will be initialized the first time you transfer GRT.

The transfers are done using a Transfer Tool that will be visible on your Explorer profile when you connect with the vesting contract account.

Please note that you will not be able to release/withdraw GRT from the L2 vesting contract until the end of your vesting timeline when your contract is fully vested. If you need to release GRT before then, you can transfer the GRT back to the L1 vesting contract using another transfer tool that is available for that purpose.

If you haven't transferred any vesting contract balance to L2, and your vesting contract is fully vested, you should not transfer your vesting contract to L2. Instead, you can use the transfer tools to set an L2 wallet address, and directly transfer your stake or delegation to this regular wallet on L2.

## I'm using my vesting contract to stake on mainnet. Can I transfer my stake to Arbitrum?

Yes, but if your contract is still vesting, you can only transfer the stake so that it is owned by your L2 vesting contract. You must first initialize this L2 contract by transferring some GRT balance using the vesting contract transfer tool on Explorer. If your contract is fully vested, you can transfer your stake to any address in L2, but you must set it beforehand and deposit some ETH for the L2 transfer tool to pay for L2 gas.

## I'm using my vesting contract to delegate on mainnet. Can I transfer my delegations to Arbitrum?

Yes, but if your contract is still vesting, you can only transfer the delegation so that it is owned by your L2 vesting contract. You must first initialize this L2 contract by transferring some GRT balance using the vesting contract transfer tool on Explorer. If your contract is fully vested, you can transfer your delegation to any address in L2, but you must set it beforehand and deposit some ETH for the L2 transfer tool to pay for L2 gas.

## Can I specify a different beneficiary for my vesting contract on L2?

Yes, the first time you transfer a balance and set up your L2 vesting contract, you can specify an L2 beneficiary. Make sure this beneficiary is a wallet that can perform transactions on Arbitrum One, i.e. it must be an EOA or a multisig deployed to Arbitrum One.

If your contract is fully vested, you will not set up a vesting contract on L2; instead, you will set an L2 wallet address and this will be the receiving wallet for your stake or delegation on Arbitrum.

## My contract is fully vested. Can I transfer my stake or delegation to another address that is not an L2 vesting contract?

Yes. If you haven't transferred any vesting contract balance to L2, and your vesting contract is fully vested, you should not transfer your vesting contract to L2. Instead, you can use the transfer tools to set an L2 wallet address, and directly transfer your stake or delegation to this regular wallet on L2.

This allows you to transfer your stake or delegation to any L2 address.

## My vesting contract is still vesting. How do I transfer my vesting contract balance to L2?

These steps only apply if your contract is still vesting, or if you've used this process before when your contract was still vesting.

To transfer your vesting contract to L2, you will send any GRT balance to L2 using the transfer tools, which will initialize your L2 vesting contract:

1.  Deposit some ETH into the transfer tool contract (this will be used to pay for L2 gas)

2.  Revoke protocol access to the vesting contract (needed for the next step)

3.  Give protocol access to the vesting contract (will allow your contract to interact with the transfer tool)

4.  Specify an L2 beneficiary address\* and initiate the balance transfer on Ethereum mainnet

5.  等待20分钟进行确认

6.  Confirm the balance transfer on L2

\*如果需要-即您正在使用合约地址。

\*\*\*\*You must confirm your transaction to complete the balance transfer on Arbitrum. This step must be completed within 7 days or the balance could be lost. In most cases, this step will run automatically, but a manual confirmation may be needed if there is a gas price spike on Arbitrum. If there are any issues during this process, there will be resources to help: contact support at support@thegraph.com or on [Discord](https://discord.gg/vtvv7FP).

## Can I move my vesting contract back to L1?

There is no need to do so because your vesting contract is still in L1. When you use the transfer tools, you just create a new contract in L2 that is connected with your L1 vesting contract, and you can send GRT back and forth between the two.

## Why do I need to move my vesting contract to begin with?

You need to set up an L2 vesting contract so that this account can own your stake or delegation on L2. Otherwise, there'd be no way for you to transfer the stake/delegation to L2 without "escaping" the vesting contract.

## What happens if I try to cash out my contract when it is only partially vested? Is this possible?

This is not a possibility. You can move funds back to L1 and withdraw them there.

## What if I don't want to move my vesting contract to L2?

You can keep staking/delegating on L1. Over time, you may want to consider moving to L2 to enable rewards there as the protocol scales on Arbitrum. Note that these transfer tools are for vesting contracts that are allowed to stake and delegate in the protocol. If your contract does not allow staking or delegating, or is revocable, then there is no transfer tool available. You will still be able to withdraw your GRT from L1 when available.
