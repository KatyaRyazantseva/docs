---
title: Hızlı Başlangıç
---

Bu rehber, subgraph'ınızı Subgraph Stüdyoda'da veya [barındırılan hizmette](#hosted-service) nasıl başlatacağınızı, oluşturacağınızı ve dağıtacağınızı hızlı bir şekilde anlatacaktır.

Subgraph'ınızın [desteklenen bir ağdan](/developing/supported-networks) gelen verileri indeksleyeceğinden emin olun.

Bu rehber, aşağıdakilere sahip olduğunuzu varsayar:

- Seçtiğiniz ağ üzerinde bir akıllı sözleşme adresi
- Subgraph'ınızın kürasyonu için GRT
- Bir kripto cüzdanı

## 1. Subgraph Stüdyo'da bir subgraph oluşturun

Subgraph Stüdyo [https://thegraph.com/studio/](https://thegraph.com/studio/) adresine gidin ve cüzdanınızı bağlayın.

Bağlandıktan sonra, "bir subgraph oluştur" seçeneğine tıklayarak başlayabilirsiniz. Tercih ettiğiniz ağı seçin ve devam et'e tıklayın.

## 2. Graph CLI'yi yükleyin

Graph CLI JavaScript ile yazılmıştır ve kullanmak için `npm` ya da `yarn` yüklemiş olmanız gerekir.

Yerel makinenizde aşağıdaki komutlardan birini çalıştırın:

```sh
# NPM
$ npm install -g @graphprotocol/graph-cli

# Yarn
$ yarn global add @graphprotocol/graph-cli
```

## 3. Subgraph'ınızı başlatın

> Belirli subgraph'ınız için komutları [Subgraph Stüdyo'daki](https://thegraph.com/studio/) subgraph sayfasında bulabilirsiniz.

Subgraph'ınızı başlattığınızda, CLI aracı sizden aşağıdaki bilgileri isteyecektir:

- Protokol: Subgraph'ınızın veri indeksleyeceği protokolü seçin
- Subgraph slug: Subgraph'ınız için bir ad oluşturun. Subgraph slug'ınız subgraph'ınız için bir tanımlayıcıdır.
- Subgraph'ınızın oluşturulacağı dizin: yerel dizininizi seçin
- Ethereum ağı (opsiyonel): Subgraph'ınızın hangi EVM uyumlu ağdan veri indeksleyeceğini belirtmeniz gerekebilir
- Sözleşme adresi: Veri sorgulamak istediğiniz akıllı sözleşme adresini bulun
- ABI: ABI otomatik olarak doldurulmuyorsa, JSON dosyası haline manuel olarak girmeniz gerekecektir
- Başlangıç Bloğu: Subgraph'ınız blok zinciri verilerini indekslerken zaman kazanmak için başlangıç bloğunu girmeniz önerilir. Başlangıç bloğunu, sözleşmenizin dağıtıldığı bloğu bularak bulabilirsiniz.
- Sözleşme Adı: Sözleşmenizin adını girin
- Sözleşme olaylarını varlıklar olarak indeksleyin: Yayılan her olay için subgraph'ınıza otomatik olarak eşlemeler ekleyeceğinden bunu true olarak ayarlamanız önerilir
- Başka bir sözleşme ekle (opsiyonel): Başka bir sözleşme ekleyebilirsiniz

Aşağıdaki komutu çalıştırarak subgraph'ınızı mevcut bir sözleşmeden başlatın:

```sh
graph init --studio <SUBGRAPH_SLUG>
```

Subgraph'ınızı başlatırken neyle karşılaşacağınıza dair bir örnek için aşağıdaki ekran görüntüsüne bakın:

![Subgraph komutu](/img/subgraph-init-example.png)

## 4. Subgraph'ınızı Yazın

Önceki komutlar, subgraph'ınızı oluşturmak için bir başlangıç noktası olarak kullanabileceğiniz bir subgraph iskeletini oluşturur. Subgraph'ta değişiklik yaparken, temel olarak üç dosya ile çalışacaksınız:

- Manifest (subgraph.yaml) - Manifest, subgraph'ınızın hangi veri kaynaklarını indeksleyeceğini tanımlar.
- Şema (schema.graphql) - GraphQL şeması, subgraph'tan hangi verileri almak istediğinizi tanımlar.
- AssemblyScript Eşleştirmeleri (mapping.ts) - Bu, veri kaynaklarınızdaki verileri şemada tanımlanan varlıklara çeviren koddur.

Subgraph'ınızı nasıl yazacağınız hakkında daha fazla bilgi için [Subgraph Oluşturma](/developing/creating-a-subgraph) bölümüne göz atın.

## 5. Subgraph Stüdyo'ya Dağıtın

Subgraph'ınız yazıldıktan sonra aşağıdaki komutları çalıştırın:

```sh
$ graph codegen
$ graph build
```

- Subgraph'ınızı doğrulayın ve dağıtın. Dağıtım anahtarı Subgraph Stüdyo'daki Subgraph sayfasında bulunabilir.

```sh
$ graph auth --studio <DEPLOY_KEY>
$ graph deploy --studio <SUBGRAPH_SLUG>
```

Sizden bir sürüm etiketi istenecektir. Sürümleme için [semver](https://semver.org/) kullanmanız şiddetle önerilir, örneğin `0.0.1` versiyonu. Bununla birlikte, `v1`, `version1`, `asdf` gibi herhangi bir diziyi sürüm olarak seçmekte özgürsünüz.

## 6. Subgraph'ınızı Test Edin

Test alanı(playground) bölümünde örnek bir sorgu yaparak subgraph'ınızı test edebilirsiniz.

Kayıtlar, subgraph'ınızla ilgili herhangi bir hata olup olmadığını size söyleyecektir. Çalışan bir subgraph'ın kayıtları aşağıdaki gibi görünecektir:

![Subgraph kayıtları](/img/subgraph-logs-image.png)

Subgraph'ınız başarısız oluyorsa GraphiQL Test Alanı'nı kullanarak subgraph durumunu sorgulayabilirsiniz. Aşağıdaki sorgudan yararlanabileceğinizi ve subgraph'ınız için dağıtım ID'nizi girebileceğinizi unutmayın. Bu durumda, `Qm...` dağıtım ID'sidir (Subgraph sayfasında **Ayrıntılar** başlığı altında bulunabilir). Aşağıdaki sorgu, bir subgraph başarısız olduğunda size söyleyecektir, böylece buna göre hata ayıklayabilirsiniz:

```graphql
{
  indexingStatuses(subgraphs: ["Qm..."]) {
    node
    synced
    health
    fatalError {
      message
      block {
        number
        hash
      }
      handler
    }
    nonFatalErrors {
      message
      block {
        number
        hash
      }
      handler
    }
    chains {
      network
      chainHeadBlock {
        number
      }
      earliestBlock {
        number
      }
      latestBlock {
        number
      }
      lastHealthyBlock {
        number
      }
    }
    entityCount
  }
}
```

## 7. Subgraph'ınızı Graph'ın Merkeziyetsiz Ağında Yayınlayın

Subgraph'ınız Subgraph Stüdyo'ya dağıtıldıktan, test ettikten ve kullanıma hazır hale geldikten sonra, bunu merkeziyetsiz ağda yayınlayabilirsiniz.

Subgraph Stüdyo'da subgraph'ınıza tıklayın. Subgraph'ın sayfasında, sağ üstteki yayınla düğmesine tıklayabileceksiniz.

Subgraph'ınızı yayınlamak istediğiniz ağı seçin. [Daha yüksek işlem hızlarından ve daha düşük gaz maliyetlerinden](/arbitrum/arbitrum-faq) yararlanmak için subgraph'ınızı Arbitrum One'da yayınlamanız önerilir.

Subgraph'ınızı sorgulayabilmeniz için önce İndeksleyicilerin bu subgraph üzerinde sorgu sunmaya başlaması gerekir. Bu süreci kolaylaştırmak için GRT kullanarak kendi subgraph'ınızı oluşturabilirsiniz.

Bu rehberin yazıldığı sırada, kendi subgraph'ınızın mümkün olan en kısa sürede indekslenmesini ve sorgulanabilir olmasını sağlamanız için 10.000 GRT ile kürate etmeniz önerilir.

Gas maliyetlerinden tasarruf etmek için, subgraph'ınızı Graph'ın merkeziyetsiz ağında yayınlarken bu düğmeyi seçerek subgraph'ınızı yayınladığınız işlemle aynı işlemde kürate edebilirsiniz:

![Subgraph yayınlama](/img/publish-and-signal-tx.png)

## 8. Subgraph'ınızı Sorgulayın

Şimdi, subgraph'ınızın Sorgu URL'sine GraphQL sorguları göndererek onu sorgulayabilirsiniz; bu URL'yi sorgu düğmesine tıklayarak bulabilirsiniz.

API anahtarınız yoksa, geliştirme ve hazırlama için kullanılabilen ücretsiz, rate limit'li geçici sorgu URL'si aracılığıyla merkeziyetsiz uygulamanızdan sorgulama yapabilirsiniz.

Subgraph'ınızdan veri sorgulama hakkında daha fazla bilgi için [buradan](../querying/querying-the-graph/) daha fazlasını okuyabilirsiniz.
