---
title: अर्जावरून क्वेरी करत आहे
---

एकदा सबग्राफ स्टुडिओ किंवा ग्राफ एक्सप्लोररमध्ये सबग्राफ उपयोजित केल्यावर, तुम्हाला तुमच्या ग्राफक्यूएल API साठी एंडपॉइंट दिला जाईल जो असे काहीतरी दिसला पाहिजे:

**सबग्राफ स्टुडिओ (चाचणी एंडपॉइंट)**

```sh
Queries (HTTP)
https://api.studio.thegraph.com/query/<ID>/<SUBGRAPH_NAME>/<VERSION>
```

**आलेख एक्सप्लोरर**

```sh
Queries (HTTP)
https://gateway.thegraph.com/api/<API_KEY>/subgraphs/id/<SUBGRAPH_ID>
```

GraphQL एंडपॉइंट वापरून, तुम्ही सबग्राफची क्वेरी करण्यासाठी आणि सबग्राफद्वारे अनुक्रमित केलेल्या डेटासह तुमचा अॅप पॉप्युलेट करण्यासाठी विविध GraphQL क्लायंट लायब्ररी वापरू शकता.

इकोसिस्टममधील आणखी काही लोकप्रिय ग्राफक्यूएल क्लायंट आणि ते कसे वापरायचे ते येथे आहेत:

## ग्राफक्यूएल क्लायंट

### आलेख क्लायंट

ग्राफ स्वतःचे GraphQL क्लायंट, `graph-client` प्रदान करत आहे जे अद्वितीय वैशिष्ट्यांना समर्थन देते जसे की:

- क्रॉस-चेक्रॉस-चेन सबग्राफ हँडलिंग: एकाच क्वेरीमध्ये एकाधिक सबग्राफमधून क्वेरी करणेन
- [स्वयंचलित ब्लॉक ट्रॅकिंग](https://github.com/graphprotocol/graph-client/blob/main/packages/block-tracking/README.md)
- [स्वयंचलित पृष्ठांकन](https://github.com/graphprotocol/graph-client/blob/main/packages/auto-pagination/README.md)
- पूर्ण टाईप केलेला निकाल

यात्रांतर आणि URQL जस्त्या लोकप्रिय GraphQL क्लायंटसह एकत्रित आहे आणि सर्व वातावरणांसह (React, Angular, Node.js, React Native), `graph-client` वापरून आपल्याला The Graphसह संवाद साध्य करण्याची सर्वोत्तम अनुभव मिळवायला मिळेल.

`graphql-client` सह सबग्राफमधून डेटा कसा मिळवायचा ते पाहू.

प्रारंभ करण्यासाठी, आपल्या प्रकल्पात The Graph Client CLI इंस्टॉल केल्याची किंवा नसल्याची खात्री करा:

```sh
yarn add -D @graphprotocol/client-cli
# or, with NPM: यार्न अॅड -D @graphprotocol/client-cli
# किंवा, NPM सह:
npm स्थापित करा --save-dev @graphprotocol/client-cli
npm install --save-dev @graphprotocol/client-cli
```

तुमच्या क्वेरीला `.graphql` फाइलमध्ये परिभाषित करा (किंवा आपल्या `.js` किंवा `.ts` फाइलमध्ये इनलाइन करा):

```graphql
query ExampleQuery {
  # this one is coming from compound-v2
  markets(first: 7) {
    borrowRate
    cash
    collateralFactor
  }
  # this one is coming from uniswap-v2
  pair(id: "0x00004ee988665cdda9a1080d5792cecd16dc1220") {
    id
    token0 {
      id
      symbol
      name
    }
    token1 {
      id
      symbol
      name
    }
  }
}
```

त्यानंतर, एक कॉन्फिगरेशन फाइल तयार करा (त्याचं नाव `.graphclientrc.yml` असावं) आणि त्याच्या माध्यमातून The Graph द्वारे प्रदान केलेल्या तुमच्या GraphQL एंडपॉइंटवर दिलेल्या निर्देशित करा, उदाहरणार्थ:

```yaml
# .graphclientrc.yml
sources:
  - name: uniswapv2
    handler:
      graphql:
        endpoint: https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v2
  - name: compoundv2
    handler:
      graphql:
        endpoint: https://api.thegraph.com/subgraphs/name/graphprotocol/compound-v2

documents:
  - ./src/example-query.graphql
```

खालील The Graph Client CLI कमांड चालवल्यास, टाइप केलेले आणि वापरायला तयार जाऊन आलेले JavaScript कोड उत्पन्न होईल:

```sh
graphclient build
```

शेवटी, उत्पन्न टाइपड GraphQL दस्तावेजांचा वापर करण्यासाठी आपल्या `.ts` फाइलला सुधारित करा:

```tsx
import React, { useEffect } from 'react'
// ...
// we import types and typed-graphql document from the generated code (`..graphclient/`)
import { ExampleQueryDocument, ExampleQueryQuery, execute } from '../.graphclient'

function App() {
  const [data, setData] = React.useState<ExampleQueryQuery>()

  useEffect(() => {
    execute(ExampleQueryDocument, {}).then((result) => {
      setData(result?.data)
    })
  }, [setData])
  return (
    <div className="App">
      <header className="App-header">
        <img src={logo} className="App-logo" alt="logo" />
        <p>Graph Client Example</p>
        <fieldset>
          {data && (
            <form>
              <label>Data</label>
              <br />
              <textarea value={JSON.stringify(data, null, 2)} readOnly rows={25} />
            </form>
          )}
        </fieldset>
      </header>
    </div>
  )
}

export default App
```

**⚠️ महत्वाची सूचना**

`graph-client` अन्य GraphQL क्लायंटसह सुगमपणे संयोजित आहे, जसे कि Apollo क्लायंट, URQL किंवा React Query; आपल्याला [अधिकृत थेटाने उदाहरणे मिळतील](https://github.com/graphprotocol/graph-client/tree/main/examples).

परंतु, आपल्याला आपल्याला दुसर्‍या क्लायंटसोबत जाॅडल्यास, ध्यान द्या कि **तुम्हाला क्रॉस-चेन सबग्राफ हॅंडलिंग किंवा स्वयंचलित पॅजिनेशन वापरण्याची क्षमता नसताना, ज्या कि ते थे ग्राफच्या क्वेरीसाठी मुख्य सुविधेआहेत**.

### अपोलो क्लायंट

[Apollo क्लायंट](https://www.apollographql.com/docs/) हा फ्रंट-एंड पारिस्थितिकीत फारसा वापरला जाणारा GraphQL क्लायंट आहे.

React, Angular, Vue, Ember, iOS आणि Androidसाठी उपलब्ध, Apollo क्लायंट, हे सर्वात मोठे क्लायंट आहे, परंतु GraphQL वर उच्च स्तरावर उन्नत युआय तयार करण्यासाठी अनेक सुविधांचा वापर करतो:

- प्रगत त्रुटी हाताळणी
- पृष्ठांकन
- डेटा प्रीफेचिंग
- आशावादी UI
- स्थानिक राज्य व्यवस्थापन

आपल्याला Apollo क्लायंटच्या सहाय्याने वेब प्रकल्पातील सबग्राफमधून डेटा कसे आपटून आणणारे हे पहा.

First, install `@apollo/client` and `graphql`:

```sh
npm install @apollo/client graphql
```

त्यानंतर तुम्ही खालील कोडसह API ची क्वेरी करू शकता:

```javascript
import { ApolloClient, InMemoryCache, gql } from '@apollo/client'

const APIURL = 'https://api.studio.thegraph.com/query//<SUBGRAPH_NAME>/'

const tokensQuery = `
  query {
    tokens {
      id
      tokenID
      contentURI
      metadataURI
    }
  }
`

const client = new ApolloClient({
  uri: APIURL,
  cache: new InMemoryCache(),
})

client
  .query({
    query: gql(tokensQuery),
  })
  .then((data) => console.log('Subgraph data: ', data))
  .catch((err) => {
    console.log('Error fetching data: ', err)
  })
```

चलनांतर वापरण्यासाठी, आपल्याला प्रश्नांकन वापरण्याची संभावना आहे, आपल्याला प्रश्नांकनाच्या `variables` तपशीलात्रयी द्यायला लागतील:

```javascript
const tokensQuery = `
  query($first: Int, $orderBy: BigInt, $orderDirection: String) {
    tokens(
      first: $first, orderBy: $orderBy, orderDirection: $orderDirection
    ) {
      id
      tokenID
      contentURI
      metadataURI
    }
  }
`

client
  .query({
    query: gql(tokensQuery),
    variables: {
      first: 10,
      orderBy: 'createdAtTimestamp',
      orderDirection: 'desc',
    },
  })
  .then((data) => console.log('Subgraph data: ', data))
  .catch((err) => {
    console.log('Error fetching data: ', err)
  })
```

### URQL

दुसरी पर्याय [URQL](https://formidable.com/open-source/urql/) आहे ज्या Node.js, React/Preact, Vue आणि Svelte परिस्थितिकीत उपलब्ध आहे, ज्यामध्ये अधिक उन्नत सुविधा आहेत:

- लवचिक कॅशे प्रणाली
- एक्स्टेंसिबल डिझाइन (त्याच्या वर नवीन क्षमता जोडणे सोपे करणे)
- Lightweight bundle (~5x lighter than Apollo Client)
- फाइल अपलोड आणि ऑफलाइन मोडसाठी समर्थन

आपल्याला URQLच्या सहाय्याने वेब प्रकल्पातील सबग्राफमधून डेटा कसे आपटून आणणारे हे पहा.

First, install `urql` and `graphql`:

```sh
npm install urql graphql
```

त्यानंतर तुम्ही खालील कोडसह API ची क्वेरी करू शकता:

```javascript
import { createClient } from 'urql'

const APIURL = 'https://api.thegraph.com/subgraphs/name/username/subgraphname'

const tokensQuery = `
  query {
    tokens {
      id
      tokenID
      contentURI
      metadataURI
    }
  }
`

const client = createClient({
  url: APIURL,
})

const data = await client.query(tokensQuery).toPromise()
```
