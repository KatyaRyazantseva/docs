---
title: Швидкий старт
---

Цей посібник допоможе вам швидко розібратися з ініціалізацією, створенням та розгортанням підграфа у Subgraph Studio або на [хостинговому сервісі](#hosted-service).

Переконайтеся, що ваш підграф індексуватиме дані з [мережі, яка підтримується](/developing/supported-networks).

Цей покроковий посібник написаний з урахуванням того, що у вас уже є:

- Адреса смартконтракту в мережі, яку ви обрали
- GRT для того, щоб використати для подачі сигналу на підграф, у якості куратора
- Криптогаманець

## 1. Створення підграфа в Subgraph Studio

Перейдіть в Subgraph Studio [https://thegraph.com/studio/](https://thegraph.com/studio/) та приєднайте ваш гаманець.

Як тільки ви це зробите, можете починати, натиснувши кнопку "create a subgraph" Оберіть ту мережу, з якою бажаєте працювати та натисніть продовжити.

## 2. Встановлення Graph CLI

The Graph CLI написаний мовою програмування JavaScript і вам потрібно мати встановленими `npm` або `yarn`.

На вашому локальному комп'ютері запустіть одну з наведених нижче команд:

```sh
# NPM
$ npm install -g @graphprotocol/graph-cli

# Yarn
$ yarn global add @graphprotocol/graph-cli
```

## 3. Ініціалізація вашого підграфа

> Ви можете знайти команди для конкретно вашого підграфа на сторінці підграфа в [Subgraph Studio](https://thegraph.com/studio/).

Коли ви ініціалізуєте ваш підграф, CLI інструмент запитає вас про таку інформацію:

- Протокол: виберіть протокол, з якого ваш підграф буде індексувати дані
- Підграф мітка: створіть ім'я для вашого підграфа. Ваша підграф мітка є ідентифікатором для вашого підграфа.
- Директорія для створення підграфа в ній: оберіть вашу локальну директорію
- Мережа Ethereum (необов'язково): можливо, вам потрібно буде вказати, з якої EVM-сумісної мережі ваш підграф буде індексувати дані
- Адреса контракту: Вкажіть адресу смарт-контракту, з якого ви хочете запитувати дані
- ABI: Якщо ABI не заповнюється автоматично, вам потрібно буде ввести його вручну у вигляді JSON-файлу
- Стартовий блок: рекомендується вказати стартовий блок, щоб заощадити час, поки ваш підграф індексує дані з блокчейну. Ви можете знайти стартовий блок, знайшовши блок, де був розгорнутий ваш контракт.
- Назва контракту: введіть назву вашого контракту
- Індексація подій контракту у якості елементів: рекомендується встановити значення true, оскільки це автоматично додасть відповідність вашого підграфа для кожної виданої події
- Додання ще одного контракту (необов'язково): ви можете додати ще один контракт

Ініціалізуйте ваш підграф з наявного контракту, виконавши наступну команду:

```sh
graph init --studio <SUBGRAPH_SLUG>
```

На наступному скриншоті ви можете побачити, чого варто очікувати при ініціалізації вашого підграфа:

![Підграф команди](/img/subgraph-init-example.png)

## 4. Написання вашого підграфа

Попередні команди створюють так званий "скелет" підграфа, який ви можете використовувати як відправну точку для побудови вашого підграфа. При внесенні змін до підграфа ви будете працювати переважно з трьома файлами:

- Маніфест (subgraph.yaml) - Маніфест визначає, які джерела даних будуть індексуватися вашими підграфами.
- Схема (schema.graphql) - схема The GraphQL визначає, які дані ви хочете отримати з підграфа.
- AssemblyScript Mappings (mapping.ts) - Це код, який транслює дані з ваших джерел даних до елементів, визначених у схемі.

Щоб дізнатися більше про те, як написати власний підграф, дивіться [Creating a Subgraph](/developing/creating-a-subgraph).

## 5. Розгортання в Subgraph Studio

Як тільки ваш підграф буде написаний, виконайте наступні команди:

```sh
$ graph codegen
$ graph build
```

- Автентифікуйте та розгорніть ваш підграф. Ключ для розгортання можна знайти на сторінці підграфа у Subgraph Studio.

```sh
$ graph auth --studio <DEPLOY_KEY>
$ graph deploy --studio <SUBGRAPH_SLUG>
```

Вам буде запропоновано ввести номер версії. Наполегливо рекомендується використовувати [semver](https://semver.org/) для версій на зразок `0.0.1`. Однак, ви можете вибрати будь-який рядок як версію, наприклад: `v1`, `version1`, `asdf`.

## 6. Тестування вашого підграфа

Ви можете протестувати свій підграф, зробивши зразок запиту в розділі "playground" (середовище для тестування).

Журнали покажуть вам, чи є якісь помилки у вашому підграфі. Журнал робочого підграфа матиме такий вигляд:

![Логи підграфа](/img/subgraph-logs-image.png)

Якщо ваш підграф не працює, ви можете дізнатись його стан за допомогою GraphiQL Playground. Зверніть увагу, що ви можете скористатися наведеним нижче запитом і ввести deployment ID для вашого підграфа. В цьому випадку `Qm...` це deployment ID (який можна знайти на сторінці підграфа в розділі **Details**). Запит, наведений нижче, покаже вам, коли підграф не працює, щоб ви могли налагодити його відповідним чином:

```graphql
{
  indexingStatuses(subgraphs: ["Qm..."]) {
    node
    synced
    health
    fatalError {
      message
      block {
        number
        hash
      }
      handler
    }
    nonFatalErrors {
      message
      block {
        number
        hash
      }
      handler
    }
    chains {
      network
      chainHeadBlock {
        number
      }
      earliestBlock {
        number
      }
      latestBlock {
        number
      }
      lastHealthyBlock {
        number
      }
    }
    entityCount
  }
}
```

## 7. Публікація вашого підграфа в децентралізованій мережі The Graph

Після того, як ваш підграф буде розгорнуто в Subgraph Studio, протестовано і ви будете готові запустити його у роботу, ви можете опублікувати його в децентралізованій мережі.

У Subgraph Studio натисніть на ваш підграф. На сторінці підграфа ви зможете натиснути кнопку "publish" у верхньому правому куті.

Оберіть мережу, в якій ви хотіли б опублікувати ваш підграф. Рекомендується публікувати підграфи на Arbitrum One, щоб ви могли скористатися перевагами [вищої швидкості транзакцій і нижчих витрат на газ](/arbitrum/arbitrum-faq).

Перш ніж ви зможете запитувати ваш підграф, індексатори повинні почати обслуговувати запити до нього. Щоб спростити цей процес, ви можете надіслати сигнал на власний підграф за допомогою токенів GRT.

На момент написання статті рекомендується використовувати для подання сигналу щонайменше 10 000 GRT, щоб переконатися, що ваш підграф буде проіндексований і доступний для запитів якнайшвидше.

Щоб заощадити на витратах на газ, ви можете надіслати сигнал на власний підграф у тій самій транзакції, в якій ви його опублікували, вибравши цю функцію під час публікації підграфа в децентралізованій мережі The Graph:

![Публікація підграфа](/img/publish-and-signal-tx.png)

## 8. Запит до вашого підграфа

Тепер ви можете запитувати ваш підграф, надсилаючи GraphQL-запити на URL-адресу запиту вашого підграфа, яку ви можете знайти, натиснувши на кнопку запиту.

Якщо у вас немає ключа API, ви можете робити запити з вашого додатка через безплатну тимчасову URL-адресу запиту з обмеженим тарифом, яку можна використовувати для розробки та тестування.

Щоб дізнатися більше про запити до даних з вашого підграфа, читайте [тут](../querying/querying-the-graph/).
